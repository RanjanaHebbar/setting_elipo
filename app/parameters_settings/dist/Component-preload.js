//@ui5-bundle parameterssettings/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"parameterssettings/Component.js":function(){sap.ui.define(["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("parameterssettings.Component",{metadata:{manifest:"json"}})});
},
	"parameterssettings/ext/controller/Draftattachment.js":function(){sap.ui.define(["sap/m/MessageBox","sap/m/MessageToast","sap/ui/core/UIComponent"],function(e,t,n){"use strict";function o(n,o){var r;function a(e){r&&r.getBeginButton().setEnabled(e)}function s(e){r.setBusy(e)}function i(){r&&r.close()}function l(t,n,o){e.error("Upload failed",{title:"Error"})}function u(e){return sap.ui.core.Fragment.byId("excelUploadDialog",e)}return{onBeforeOpen:function(e){r=e.getSource();n.addDependent(r)},onAfterClose:function(e){n.removeDependent(r);r.destroy();r=undefined},_getBaseURL:function(){debugger;var e=this.getOwnerComponent().getManifestEntry("/sap.app/id").replaceAll(".","/");return jQuery.sap.getModulePath(e)},onFileChange:function(e){var t=e.getParameters("files").files[0];this.file=t},onOk:function(e){debugger;var t=new FileReader;t.onload=function(e){debugger;this.content=e.currentTarget.result;this.createfile()}.bind(this);t.readAsDataURL(this.file)},createfile:function(){debugger;var t=this.file;var n="https://elipo_backend-shy-echidna-yp.cfapps.us20.hana.ondemand.com/dev/company-logo";var o=new FormData;o.append("file",t);o.append("file_name","company_logo");fetch(n,{method:"POST",body:o}).then(function(e){if(e.status===200){return e.text()}else{throw new Error("POST request failed with status: "+e.status)}}).then(function(t){var n=JSON.parse(t);if(n.statusCode===200){var o="File Uploaded Successfully";e.success(o);i();console.log("Success: "+n.body)}else{var o="Failed to upload";e.error("Failed to upload");i();console.log("Error: "+n.body)}}).catch(function(e){console.error(e)})},onCancel:function(e){i()},onTypeMismatch:function(e){var t=e.getSource().getFileType().map(function(e){return"*."+e}).join(", ");l("The file type *."+e.getParameter("fileType")+" is not supported. Choose one of the following types: "+t)},onFileAllowed:function(e){a(true)},onFileEmpty:function(e){a(false)},onUploadComplete:function(e){var o=e.getParameter("status");var r=e.getSource();r.clear();a(false);s(false);if(o>=400){var u;try{u=JSON.parse(e.getParameter("responseRaw"))}catch(t){u=e.getParameter("responseRaw")}if(u&&u.error&&u.error.message){l(u.error.code,u.error.target,u&&u.error&&u.error.message)}}else{t.show("File uploaded successfully");n.refresh();i()}}}}return{upload:function(e,t){this.loadFragment({id:"excelUploadDialog",name:"parameterssettings.ext.fragment.Draftattachment",controller:o(this,"MediaFile")}).then(function(e){e.open()})}}});
},
	"parameterssettings/ext/controller/Upload_file.js":function(){sap.ui.define(["sap/m/MessageBox","sap/m/MessageToast","sap/ui/core/UIComponent"],function(e,t,n){"use strict";function o(n,o){var r;function a(e){r&&r.getBeginButton().setEnabled(e)}function s(e){r.setBusy(e)}function i(){r&&r.close()}function l(t,n,o){e.error("Upload failed",{title:"Error"})}function c(e){return sap.ui.core.Fragment.byId("UploadDialog",e)}return{onBeforeOpen:function(e){r=e.getSource();n.addDependent(r)},onAfterClose:function(e){n.removeDependent(r);r.destroy();r=undefined},_getBaseURL:function(){debugger;var e=this.getOwnerComponent().getManifestEntry("/sap.app/id").replaceAll(".","/");return jQuery.sap.getModulePath(e)},onFileChange:function(e){var t=e.getParameters("files").files[0];this.file=t},onOk:function(e){debugger;let t=e.oSource.oPropagatedProperties.oModels.pageInternal.mContexts["/pages/supplier2nd::Invoice1ObjectPage/controls/fe::FormContainer::F1"].oModel.oData.currentCtxt.sPath;const n=/invoice_no='(\d+)'/;const o=t.match(n);const r=o[1];var a=c("__fileUploader");var s=new FileReader;s.onload=function(e){debugger;var t=this.file;this.content=e.currentTarget.result;this.createfile(r)}.bind(this);s.readAsDataURL(this.file)},createfile:function(t){debugger;var n=this;var t=t;var o=this.file;var r=this.content;var a=r.split(",")[1];var s=this.file.name;var l=this.file.type;const c=atob(a);const u=new ArrayBuffer(c.length);const p=new Uint8Array(u);for(let e=0;e<c.length;e++){p[e]=c.charCodeAt(e)}const d=new Blob([u],{type:l});const f=new File([d],s,{type:l});var g="https://elipo_backend-shy-echidna-yp.cfapps.us20.hana.ondemand.com/dev/upload";var h=new FormData;h.append("file",o);h.append("mime_type",l);h.append("file_name",s);h.append("file_id",t);h.append("userid","einvoiceportal@gmail.com");fetch(g,{method:"POST",body:h}).then(function(e){if(e.status===200){return e.text()}else{throw new Error("POST request failed with status: "+e.status)}}).then(function(t){var n=JSON.parse(t);if(n.statusCode===200){var o="File Uploaded Successfully";e.success(o);i();console.log("Success: "+n.body)}else{var o="Failed to upload";e.error("Failed to upload");i();console.log("Error: "+n.body)}}).catch(function(e){console.error(e)});debugger},onCancel:function(e){i()},onTypeMismatch:function(e){var t=e.getSource().getFileType().map(function(e){return"*."+e}).join(", ");l("The file type *."+e.getParameter("fileType")+" is not supported. Choose one of the following types: "+t)},onFileAllowed:function(e){a(true)},onFileEmpty:function(e){a(false)},onUploadComplete:function(e){var o=e.getParameter("status");var r=e.getSource();r.clear();a(false);s(false);if(o>=400){var c;try{c=JSON.parse(e.getParameter("responseRaw"))}catch(t){c=e.getParameter("responseRaw")}if(c&&c.error&&c.error.message){l(c.error.code,c.error.target,c&&c.error&&c.error.message)}}else{t.show("File uploaded successfully");n.refresh();i()}}}}return{upload:function(e,t){this.loadFragment({id:"excelUploadDialog",name:"supplier2nd.ext.fragment.Draftattachment",controller:o(this,"MediaFile")}).then(function(e){e.open()})}}});
},
	"parameterssettings/ext/fragment/DemoFragment.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:macros="sap.fe.macros"><VBox id="_IDGenVBox1"><Text id="_IDGenText1" text="DemoFragment" /></VBox></core:FragmentDefinition>',
	"parameterssettings/ext/fragment/Draftattachment.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core"\n    xmlns:u="sap.ui.unified"\n    xmlns="sap.m"><Dialog id="_IDDialog" title="Upload Attachment" class="sapUiResponsiveContentPadding"\n        beforeOpen=".onBeforeOpen"\n        afterClose=".onAfterClose"><content><u:FileUploader id="__fileUploader"\n            placeholder="Choose file..." \n            change="onFileChange"\n             multiple="false" \n             fileType="jpeg,png,jpg" \n /><Button id="ok"\n                text="OK"\n                press=".onOk"\n                type="Emphasized"\n/><Button id="cancel"\n                text="Cancel"\n                press=".onCancel" /></content></Dialog></core:FragmentDefinition>',
	"parameterssettings/i18n/i18n.properties":'# This is the resource bundle for parameterssettings\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Setting\n\n#YDES: Application description\nappDescription=A Fiori application.\n\nflpTitle=Parameters\n',
	"parameterssettings/manifest.json":'{"_version":"1.58.0","sap.app":{"id":"parameterssettings","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.11.4","toolsId":"3191c2fc-937d-4b05-90db-00cedde6e1d9"},"dataSources":{"mainService":{"uri":"odata/v4/setting/","type":"OData","settings":{"annotations":[],"localUri":"localService/metadata.xml","odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"parameterssemobj-display":{"semanticObject":"parameterssemobj","action":"display","title":"{{flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.120.1","libs":{"sap.m":{},"sap.ui.core":{},"sap.ushell":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"parameterssettings.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"synchronizationMode":"None","operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}},"resources":{"css":[]},"routing":{"routes":[{"pattern":":?query:","name":"Table1List","target":"Table1List"},{"pattern":"Table1({key}):?query:","name":"Table1ObjectPage","target":"Table1ObjectPage"}],"targets":{"Table1List":{"type":"Component","id":"Table1List","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/Table1","variantManagement":"Page","navigation":{"Table1":{"detail":{"route":"Table1ObjectPage"}}},"hideFilterBar":true,"controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"enableExport":false,"selectAll":false,"selectionMode":"None","personalization":{"column":false,"filter":false,"sort":false},"quickVariantSelection":{"showCounts":true}}}},"initialLoad":"Enabled"}}},"Table1ObjectPage":{"type":"Component","id":"Table1ObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/Table1","controlConfiguration":{"@com.sap.vocabularies.UI.v1.FieldGroup#GeneratedGroup1":{"actions":{"1111":{"press":"parameterssettings.ext.controller.Draftattachment.upload","visible":true,"enabled":true,"text":"Upload Company Logo"}}}},"content":{"body":{"sections":{}}}}}}}}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"mngdapprouterforsetting"}}'
}});
